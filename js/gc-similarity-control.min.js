"use strict";const gcSimilarityLocales={en:{options:{title:"Similarity options",date_format_hint:"YYYY-MM-DD"},similarity:{settings:"Options",radius:"Search radius [m]",number_of_references:"Nb of references",interval_days:"Interval [days]",startdate:"Start date",enddate:"End date",crop:"Crop",entity:"Entity",verification:"Verification",getSimilarity:"Get similarity"}},de:{options:{title:"Ähnlichkeitsanalyse",date_format_hint:"JJJJ-MM-TT"},similarity:{settings:"Einstellungen",radius:"Suchradius [m]",number_of_references:"Anz. Referenzparcels",interval_days:"Interval [Tage]",startdate:"Anfangsdatum",enddate:"Enddatum",crop:"Fruchtart",entity:"Entität",verification:"Überprüfung",getSimilarity:"Starte Analyse"}}};Vue.component("gc-similarity",{props:{gcWidgetId:{type:String,default:"similarity1",required:!0},gcLayout:{type:String,default:"horizontal"},gcAvailableOptions:{type:String,default:"widgetTitle"},gcWidgetCollapsed:{type:Boolean,default:!1},gcLanguage:{type:String,default:"en"},gcStartdate:{type:String,default:""},gcEnddate:{type:String,default:""},gcRadius:{type:Number,default:1e5},gcInterval:{type:Number,default:7},gcReferences:{type:Number,default:20},gcCrop:{type:String,default:""},gcEntity:{type:String,default:""},gcVerification:{type:Boolean,default:!1}},template:'<div :id="this.gcWidgetId" class="">\n\n                \x3c!-- p :class="[\'gc-options-title\', \'is-size-6\', !gcWidgetCollapsed ? \'gc-is-primary\' : \'gc-is-tertiary\']" \n                  style="cursor: pointer; margin-bottom: 0.5em;"    \n                  v-on:click="toggleSimilarity" \n                  v-show="availableOptions.includes(\'widgetTitle\')"> {{ $t(\'options.title\')}}\n                  <i :class="[!gcWidgetCollapsed ? \'\': \'is-active\', \'fas\', \'fa-angle-down\', \'fa-sm\']"></i>\n                </p --\x3e\n\n                \x3c!-- similarity container --\x3e\n                <div :class="[!gcWidgetCollapsed ? \'\': \'is-hidden\']" style="margin-bottom: 1em;">\n\n                  <div style="margin-bottom: 0.5em;">\n                    <p :class="[\'gc-options-title\', \'is-size-6 \', similaritySettings ? \'gc-is-primary\' : \'gc-is-tertiary\']" \n                    v-on:click="similaritySettings =! similaritySettings" style="cursor: pointer; margin-bottom: 0.5em!important;">\n                    {{ $t(\'options.title\') }} \n                    <i :class="[similaritySettings ? \'\': \'is-active\', \'fas\', \'fa-angle-down\', \'fa-sm\']"></i>\n                    </p>\n                  </div>\n\n                  \x3c!-- similarity settings --\x3e\n                  <div :class="[similaritySettings ? \'\' : \'is-hidden\', layoutCSSMap[\'alignment\'][gcLayout]]" style="">\n                    <div :class="[\'field\', \'gc-field-\'+gcLayout]">\n                      <label class="label gc-is-tertiary is-small has-text-left"> {{ $t(\'similarity.radius\') }} </label>\n                      <div class="control">\n                        <input type="text" class="input is-small" v-bind:placeholder="$t(\'radius\')" v-model="radius">\n                      </div>\n                    </div>\n                    <div :class="[\'field\', \'gc-field-\'+gcLayout]">\n                      <label class="label gc-is-tertiary is-small has-text-left"> {{ $t(\'similarity.interval_days\') }} </label>\n                      <div class="control">\n                        <input type="text" class="input is-small" v-bind:placeholder="$t(\'interval\')" v-model="interval">\n                      </div>\n                    </div>\n                    <div :class="[\'field\', \'gc-field-\'+gcLayout]">\n                      <label class="label gc-is-tertiary is-small has-text-left"> {{ $t(\'similarity.number_of_references\') }} </label>\n                      <div class="control">\n                        <input type="text" class="input is-small" v-bind:placeholder="$t(\'references\')" v-model="references">\n                      </div>\n                    </div>\n                    <div :class="[\'field\', \'gc-field-\'+gcLayout]">\n                      <label class="label gc-is-tertiary is-small has-text-left"> {{ $t(\'similarity.crop\') }} </label>\n                      <div class="control">\n                        <input type="text" class="input is-small" v-bind:placeholder="$t(\'crop\')" v-model="crop">\n                      </div>\n                    </div>\n                    <div :class="[\'field\', \'gc-field-\'+gcLayout]">\n                      <label class="label gc-is-tertiary is-small has-text-left"> {{ $t(\'similarity.entity\') }} </label>\n                      <div class="control">\n                        <input type="text" class="input is-small" v-bind:placeholder="$t(\'entity\')" v-model="entity">\n                      </div>\n                    </div>\n                    <div :class="[\'field\', \'gc-field-\'+gcLayout]">\n                      <label class="label gc-is-tertiary is-small has-text-left"> {{ $t(\'similarity.startdate\') }} </label>\n                      <div class="control">\n                        <input :id="\'inpstartdate_\' + gcWidgetId" type="text" class="input is-small" v-bind:placeholder="$t(\'options.date_format_hint\')" v-model="startDate">\n                      </div>\n                    </div>\n                    <div :class="[\'field\', \'gc-field-\'+gcLayout]">\n                      <label class="label gc-is-tertiary is-small has-text-left"> {{ $t(\'similarity.enddate\') }} </label>\n                      <div class="control">\n                        <input :id="\'inpenddate_\' + gcWidgetId" type="text" class="input is-small" v-bind:placeholder="$t(\'options.date_format_hint\')" v-model="endDate">\n                      </div>\n                    </div>\n                    \x3c!-- div :class="[\'field\', \'gc-field-\'+gcLayout]">\n                      <div class="field-label is-small">\n                        <label class="label gc-is-tertiary has-text-left"> {{ $t(\'similarity.verification\') }} </label>\n                      </div --\x3e\n                      \x3c!-- centers checkbox --\x3e\n                      \x3c!-- div class="field-body" style="position: relative; top: 0.5rem;">\n                        <input type="checkbox" class="content is-normal" v-model="verification">\n                      </div>\n                    </div --\x3e\n                  </div> \x3c!-- similarity settings --\x3e\n        \n                  \x3c!-- similarity buttons --\x3e\n                  <div class="is-flex" style="padding-top: 1em;">\n                    <button class="button is-light gc-is-primary gc-button-analytics" v-on:click="getSimilarity()">\n                      <span class="content"><i class="fas fa-balance-scale fa-sm"></i> {{$t(\'similarity.getSimilarity\') }}</span>\n                    </button>\n                    <button class="button is-light gc-is-primary" v-on:click="resetSimilarity()" title="Reset">\n                      <i class="fas fa-undo fa-sm"></i><span class="content"></span>\n                    </button>\n                  </div>\x3c!-- similarity buttons --\x3e\n\n                </div>\x3c!-- similarity container --\x3e\n\n            </div>\x3c!-- gcWidgetId --\x3e',data:function(){return console.debug("gc-similarity - data()"),{similaritySettings:!1,startdateCalendar:void 0,enddateCalendar:void 0,layoutCSSMap:{alignment:{vertical:"is-inline-block",horizontal:"is-flex"}}}},i18n:{locale:this.currentLanguage,messages:gcSimilarityLocales},created:function(){console.debug("gc-similarity! - created()"),this.changeLanguage()},mounted:function(){console.debug("gc-similarity! - mounted()");try{this.changeLanguage()}catch(ex){}this.initDatePickers()},computed:{availableOptions:{get:function(){return this.gcAvailableOptions.split(",")}},currentLanguage:{get:function(){return this.gcLanguage}},startDate:{get:function(){return this.gcStartdate},set:function(value){this.$root.$emit("simStartdateChange",value)}},endDate:{get:function(){return this.gcEnddate},set:function(value){this.$root.$emit("simEnddateChange",value)}},references:{get:function(){return this.gcReferences},set:function(value){this.$root.$emit("simReferencesChange",value)}},interval:{get:function(){return this.gcInterval},set:function(value){this.$root.$emit("simIntervalChange",value)}},radius:{get:function(){return this.gcRadius},set:function(value){this.$root.$emit("simRadiusChange",value)}},crop:{get:function(){return this.gcCrop},set:function(value){this.$root.$emit("cropChange",value)}},entity:{get:function(){return this.gcEntity},set:function(value){this.$root.$emit("entityChange",value)}},verification:{get:function(){return this.gcVerification},set:function(value){this.$root.$emit("simVerificationChange",value)}}},watch:{currentLanguage(newValue,oldValue){this.changeLanguage(),this.initDatePickers()}},methods:{toggleSimilarity(){this.gcWidgetCollapsed=!this.gcWidgetCollapsed},changeLanguage(){this.$i18n.locale=this.currentLanguage},getSimilarity(){this.$root.$emit("getSimilarity")},resetSimilarity(){this.$root.$emit("resetSimilarity")},initDatePickers(){this.startdateCalendar&&this.startdateCalendar.destroy(),this.startdateCalendar=new bulmaCalendar(document.getElementById("inpstartdate_"+this.gcWidgetId),{startDate:new Date,dateFormat:"yyyy-mm-dd",lang:this.currentLanguage,overlay:!1,closeOnOverlayClick:!0,closeOnSelect:!0,align:"right",onSelect:function(e){var a=new Date(e.valueOf()+864e5);this.startDate=a.toISOString().split("T")[0]}.bind(this)}),this.enddateCalendar&&this.enddateCalendar.destroy(),this.enddateCalendar=new bulmaCalendar(document.getElementById("inpenddate_"+this.gcWidgetId),{startDate:new Date,dateFormat:"yyyy-mm-dd",lang:this.currentLanguage,overlay:!1,closeOnOverlayClick:!0,closeOnSelect:!0,align:"right",onSelect:function(e){var a=new Date(e.valueOf()+864e5);this.endDate=a.toISOString().split("T")[0]}.bind(this)})}}});